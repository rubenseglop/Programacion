<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Romanos.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;EjercicioResueltoRomanos&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">romanos</a> &gt; <span class="el_source">Romanos.java</span></div><h1>Romanos.java</h1><pre class="source lang-java linenums">package romanos;

import java.util.Scanner;

/**
 * Programa que convierte números arábigos a romanos y viceversa.
 * @author Silvestre Martínez Jiménez de Cisneros
 */
<span class="nc" id="L9">public class Romanos {</span>
    /**
     * Este método convierte a número romano. Como la entrada que nos piden está
     * entre 1 y 3.999, convierto todos los números a cadenas de cuatro dígitos
     * para facilitar la lectura posterior. Después simplemente hago un análisis
     * de casos con cada una de las cifras, teniendo en cuenta su posición.
     * @param entrada Cadena con un número arábigo
     * @return cadena con el número romano convertido
     */
    public static String aRomano(String entrada){
<span class="fc" id="L19">        String salida = &quot;&quot;;        </span>
<span class="pc bpc" id="L20" title="3 of 4 branches missed.">        switch(entrada.length()){</span>
            case 3:
<span class="nc" id="L22">                entrada = &quot; &quot; + entrada;</span>
<span class="nc" id="L23">                break;</span>
            case 2:
<span class="nc" id="L25">                entrada = &quot;  &quot; + entrada;</span>
<span class="nc" id="L26">                break;</span>
            case 1:
<span class="fc" id="L28">                entrada = &quot;   &quot; + entrada;</span>
        }

<span class="pc bpc" id="L31" title="3 of 4 branches missed.">        switch(entrada.charAt(0)){</span>
            case '1':
<span class="nc" id="L33">                salida += &quot;M&quot;;</span>
<span class="nc" id="L34">                break;</span>
            case '2':
<span class="nc" id="L36">                salida += &quot;MM&quot;;</span>
<span class="nc" id="L37">                break;</span>
            case '3':
<span class="nc" id="L39">                salida += &quot;MMM&quot;;</span>
        }

<span class="pc bpc" id="L42" title="9 of 10 branches missed.">        switch(entrada.charAt(1)){</span>
            case '1':
<span class="nc" id="L44">                salida += &quot;C&quot;;</span>
<span class="nc" id="L45">                break;</span>
            case '2':
<span class="nc" id="L47">                salida += &quot;CC&quot;;</span>
<span class="nc" id="L48">                break;</span>
            case '3':
<span class="nc" id="L50">                salida += &quot;CCC&quot;;</span>
<span class="nc" id="L51">                break;</span>
            case '4':
<span class="nc" id="L53">                salida += &quot;CD&quot;;</span>
<span class="nc" id="L54">                break;</span>
            case '5':
<span class="nc" id="L56">                salida += &quot;D&quot;;</span>
<span class="nc" id="L57">                break;</span>
            case '6':
<span class="nc" id="L59">                salida += &quot;DC&quot;;</span>
<span class="nc" id="L60">                break;</span>
            case '7':
<span class="nc" id="L62">                salida += &quot;DCC&quot;;</span>
<span class="nc" id="L63">                break;</span>
            case '8':
<span class="nc" id="L65">                salida += &quot;DCCC&quot;;</span>
<span class="nc" id="L66">                break;</span>
            case '9':
<span class="nc" id="L68">                salida += &quot;CM&quot;;                   </span>
        }
<span class="pc bpc" id="L70" title="9 of 10 branches missed.">        switch(entrada.charAt(2)){</span>
            case '1':
<span class="nc" id="L72">                salida += &quot;X&quot;;</span>
<span class="nc" id="L73">                break;</span>
            case '2':
<span class="nc" id="L75">                salida += &quot;XX&quot;;</span>
<span class="nc" id="L76">                break;</span>
            case '3':
<span class="nc" id="L78">                salida += &quot;XXX&quot;;</span>
<span class="nc" id="L79">                break;</span>
            case '4':
<span class="nc" id="L81">                salida += &quot;XL&quot;;</span>
<span class="nc" id="L82">                break;</span>
            case '5':
<span class="nc" id="L84">                salida += &quot;L&quot;;</span>
<span class="nc" id="L85">                break;</span>
            case '6':
<span class="nc" id="L87">                salida += &quot;LX&quot;;</span>
<span class="nc" id="L88">                break;</span>
            case '7':
<span class="nc" id="L90">                salida += &quot;LXX&quot;;</span>
<span class="nc" id="L91">                break;</span>
            case '8':
<span class="nc" id="L93">                salida += &quot;LXXX&quot;;</span>
<span class="nc" id="L94">                break;</span>
            case '9':
<span class="nc" id="L96">                salida += &quot;XC&quot;;                    </span>
        }
<span class="pc bpc" id="L98" title="9 of 10 branches missed.">        switch(entrada.charAt(3)){</span>
            case '1':
<span class="nc" id="L100">                salida += &quot;I&quot;;</span>
<span class="nc" id="L101">                break;</span>
            case '2':
<span class="nc" id="L103">                salida += &quot;II&quot;;</span>
<span class="nc" id="L104">                break;</span>
            case '3':
<span class="nc" id="L106">                salida += &quot;III&quot;;</span>
<span class="nc" id="L107">                break;</span>
            case '4':
<span class="nc" id="L109">                salida += &quot;IV&quot;;</span>
<span class="nc" id="L110">                break;</span>
            case '5':
<span class="fc" id="L112">                salida += &quot;V&quot;;</span>
<span class="fc" id="L113">                break;</span>
            case '6':
<span class="nc" id="L115">                salida += &quot;VI&quot;;</span>
<span class="nc" id="L116">                break;</span>
            case '7':
<span class="nc" id="L118">                salida += &quot;VII&quot;;</span>
<span class="nc" id="L119">                break;</span>
            case '8':
<span class="nc" id="L121">                salida += &quot;VIII&quot;;</span>
<span class="nc" id="L122">                break;</span>
            case '9':
<span class="nc" id="L124">                salida += &quot;IX&quot;;</span>
        }                
                
<span class="fc" id="L127">        return salida;</span>
    }
    
    /**
     * Este método convierte a número arábigo. Va leyendo carácter a carácter,
     * aunque en los casos susceptibles de influenciar o ser influenciado por el
     * carácter posterior, realizo la lectura directamente para tratar el caso en
     * el momento sin tener que deshacer cálculos hechos previamente.
     * @param entrada Cadena con un número romano a convertir
     * @return Cadena con el número arábigo convertido
     */
    public static String aArabigo(String entrada){
<span class="nc" id="L139">        int salida = 0;</span>
        
<span class="nc" id="L141">        int longitud = entrada.length();</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">        for(int i=0;i&lt;longitud;i++){</span>
<span class="nc bnc" id="L143" title="All 8 branches missed.">            switch(entrada.charAt(i)){</span>
                case 'M':
<span class="nc" id="L145">                    int emes = 1000;</span>
<span class="nc bnc" id="L146" title="All 4 branches missed.">                    if(longitud&gt;1 &amp;&amp; entrada.charAt(1)=='M'){</span>
<span class="nc" id="L147">                        emes = 2000;</span>
<span class="nc" id="L148">                        i++;</span>
<span class="nc bnc" id="L149" title="All 4 branches missed.">                        if(longitud&gt;2 &amp;&amp; entrada.charAt(2)=='M'){</span>
<span class="nc" id="L150">                            emes = 3000;</span>
<span class="nc" id="L151">                            i++;</span>
                        }
                    }
<span class="nc" id="L154">                    salida += emes;</span>
<span class="nc" id="L155">                    break;</span>
                case 'D':
<span class="nc" id="L157">                    int des = 500;</span>
<span class="nc bnc" id="L158" title="All 4 branches missed.">                    if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='C'){</span>
<span class="nc" id="L159">                        des = 600;</span>
<span class="nc" id="L160">                        i++;</span>
<span class="nc bnc" id="L161" title="All 4 branches missed.">                        if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='C'){</span>
<span class="nc" id="L162">                            des = 700;</span>
<span class="nc" id="L163">                            i++;</span>
<span class="nc bnc" id="L164" title="All 4 branches missed.">                            if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='C'){</span>
<span class="nc" id="L165">                                des = 800;</span>
<span class="nc" id="L166">                                i++;</span>
                            }
                        }
                    }
<span class="nc" id="L170">                    salida += des;</span>
<span class="nc" id="L171">                    break;</span>
                case 'L':
<span class="nc" id="L173">                    int eles = 50;</span>
<span class="nc bnc" id="L174" title="All 4 branches missed.">                    if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='X'){</span>
<span class="nc" id="L175">                        eles = 60;</span>
<span class="nc" id="L176">                        i++;</span>
<span class="nc bnc" id="L177" title="All 4 branches missed.">                        if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='X'){</span>
<span class="nc" id="L178">                            eles = 70;</span>
<span class="nc" id="L179">                            i++;</span>
<span class="nc bnc" id="L180" title="All 4 branches missed.">                            if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='X'){</span>
<span class="nc" id="L181">                                eles = 80;</span>
<span class="nc" id="L182">                                i++;</span>
                            }
                        }                            
                    }                    
<span class="nc" id="L186">                    salida += eles;</span>
<span class="nc" id="L187">                    break;</span>
                case 'C':
<span class="nc" id="L189">                    int ces = 100;</span>
<span class="nc bnc" id="L190" title="All 2 branches missed.">                    if(longitud&gt;(i+1)){</span>
<span class="nc bnc" id="L191" title="All 4 branches missed.">                        switch (entrada.charAt(i+1)) {</span>
                            case 'D':
<span class="nc" id="L193">                                ces = 400;</span>
<span class="nc" id="L194">                                i++;</span>
<span class="nc" id="L195">                                break;</span>
                            case 'C':
<span class="nc" id="L197">                                ces = 200;</span>
<span class="nc" id="L198">                                i++;</span>
<span class="nc" id="L199">                                break;</span>
                            case 'M':
<span class="nc" id="L201">                                ces = 900;</span>
<span class="nc" id="L202">                                i++;</span>
                        }
                    }
<span class="nc bnc" id="L205" title="All 4 branches missed.">                    if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='C'){                      </span>
<span class="nc" id="L206">                        ces = 300;</span>
<span class="nc" id="L207">                        i++;</span>
                    }
<span class="nc" id="L209">                    salida += ces;</span>
<span class="nc" id="L210">                    break;</span>
                case 'X':
<span class="nc" id="L212">                    int equis = 10;</span>
<span class="nc bnc" id="L213" title="All 2 branches missed.">                    if(longitud&gt;(i+1)){</span>
<span class="nc bnc" id="L214" title="All 5 branches missed.">                        switch (entrada.charAt(i+1)) {</span>
                            case 'L':
<span class="nc" id="L216">                                equis = 40;</span>
<span class="nc" id="L217">                                i++;</span>
<span class="nc" id="L218">                                break;</span>
                            case 'C':
<span class="nc" id="L220">                                equis = 90;</span>
<span class="nc" id="L221">                                i++;</span>
<span class="nc" id="L222">                                break;</span>
                            case 'X':
<span class="nc" id="L224">                                equis = 20;</span>
<span class="nc" id="L225">                                i++;</span>
<span class="nc" id="L226">                                break;</span>
                            case 'V': 
<span class="nc" id="L228">                                equis = 15;</span>
<span class="nc" id="L229">                                i++;</span>
                        }                        
                    }
<span class="nc bnc" id="L232" title="All 4 branches missed.">                    if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='X'){</span>
<span class="nc" id="L233">                        equis = 30;</span>
<span class="nc" id="L234">                        i++;        </span>
                    }
<span class="nc" id="L236">                    salida += equis;</span>
<span class="nc" id="L237">                    break;</span>
                case 'V':
<span class="nc" id="L239">                    int uves = 5;</span>
<span class="nc bnc" id="L240" title="All 4 branches missed.">                    if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='I'){</span>
<span class="nc" id="L241">                        uves++;</span>
<span class="nc" id="L242">                        i++;                        </span>
<span class="nc bnc" id="L243" title="All 4 branches missed.">                        if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='I'){</span>
<span class="nc" id="L244">                            uves++;</span>
<span class="nc" id="L245">                            i++;</span>
<span class="nc bnc" id="L246" title="All 4 branches missed.">                            if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='I'){</span>
<span class="nc" id="L247">                                uves++;</span>
<span class="nc" id="L248">                                i++;</span>
                            }
                        }
                    }               
<span class="nc" id="L252">                    salida += uves;</span>
<span class="nc" id="L253">                    break;</span>
                case 'I':
<span class="nc" id="L255">                    int unos = 1;</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">                    if(longitud&gt;(i+1)){                        </span>
<span class="nc bnc" id="L257" title="All 4 branches missed.">                        switch (entrada.charAt(i+1)) {</span>
                            case 'I':
<span class="nc" id="L259">                                unos++;</span>
<span class="nc" id="L260">                                i++;</span>
<span class="nc bnc" id="L261" title="All 4 branches missed.">                                if(longitud&gt;(i+1) &amp;&amp; entrada.charAt(i+1)=='I'){</span>
<span class="nc" id="L262">                                    unos++;</span>
<span class="nc" id="L263">                                    i++;</span>
                                }
                                break;
                            case 'V':
<span class="nc" id="L267">                                unos = 4;</span>
<span class="nc" id="L268">                                i++;</span>
<span class="nc" id="L269">                                break;</span>
                            case 'X':
<span class="nc" id="L271">                                unos = 9;</span>
<span class="nc" id="L272">                                i++;</span>
                                break;
                        }
                    }
<span class="nc" id="L276">                    salida += unos;</span>
            }    
        }
                
<span class="nc" id="L280">        return String.valueOf(salida);</span>
    }
    
    /**
     * Método principal de la aplicación. Lee cadenas de la entrada estándar y 
     * en función de si el primer carácter es un dígito o no realiza la llamada 
     * a un procedimiento u otro; pues es precisamente la información que hace 
     * falta para saber si es un número romano o arábigo. Sale cuando recibe la
     * palabra &quot;salir&quot; de la entrada.
     * @param args the command line arguments
     */
    public static void main(String[] args) {
<span class="fc" id="L292">        Scanner scanner = new Scanner(System.in);</span>
<span class="fc" id="L293">        String entrada = scanner.next();</span>
        
<span class="fc" id="L295">        String salida = &quot;&quot;;        </span>
        
        // Este bucle fue utilizado para generar el caso de prueba completo.
//         for(int i=1;i&lt;4000;i++) System.out.println(i);
        
<span class="fc bfc" id="L300" title="All 2 branches covered.">        while(!entrada.equals(&quot;salir&quot;)){</span>
<span class="pc bpc" id="L301" title="1 of 2 branches missed.">            if(Character.isDigit(entrada.charAt(0))){</span>
<span class="fc" id="L302">                salida = aRomano(entrada);</span>
            }
            else{
<span class="nc" id="L305">                salida = aArabigo(entrada);</span>
            }            
<span class="fc" id="L307">            System.out.println(salida);</span>
<span class="fc" id="L308">            entrada = scanner.next();</span>
        }        
<span class="fc" id="L310">    }    </span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>